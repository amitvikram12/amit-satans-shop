{"ast":null,"code":"import _objectSpread from\"/home/neosoft/react-project/react-second-saga/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/objectSpread2\";import axios from\"axios\";import{useEffect,useState}from\"react\";import{CircleLoader}from\"react-spinners\";import{connect}from'react-redux';import{fetchCart as _fetchCart,removeFromCart as _removeFromCart,removeOneFromCart as _removeOneFromCart}from\"../reduxstore\";import{useHistory}from\"react-router-dom\";import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";function Cart(_ref){var cart=_ref.cart,loading=_ref.loading,fetchCart=_ref.fetchCart,removeFromCart=_ref.removeFromCart,removeOneFromCart=_ref.removeOneFromCart;var loaderStyle={position:\"absolute\",left:\"50%\",top:\"50%\",zIndex:\"999\"};var btnStyle={borderRadius:\"0\"};var history=useHistory();useEffect(function(){fetchCart();},[]);var total=0;var placeOrder=function placeOrder(total){var route='/placeorder?price='+total;history.push(route);};return/*#__PURE__*/_jsx(\"div\",{children:loading?/*#__PURE__*/_jsx(\"div\",{style:loaderStyle,children:/*#__PURE__*/_jsx(CircleLoader,{})}):/*#__PURE__*/_jsx(\"div\",{style:{marginTop:\"15px\",marginLeft:\"20px\"},children:/*#__PURE__*/_jsxs(\"table\",{className:\"table table-bordered\",style:{width:\"80%\"},children:[/*#__PURE__*/_jsx(\"thead\",{className:\"thead-dark\",children:/*#__PURE__*/_jsxs(\"tr\",{children:[/*#__PURE__*/_jsx(\"th\",{children:\"Image\"}),/*#__PURE__*/_jsx(\"th\",{children:\"Name\"}),/*#__PURE__*/_jsx(\"th\",{children:\"Price\"}),/*#__PURE__*/_jsx(\"th\",{children:\"Quantity\"}),/*#__PURE__*/_jsx(\"th\",{children:\"Action\"})]})}),/*#__PURE__*/_jsx(\"tbody\",{children:cart.map(function(item,index){total+=item.price*item.quantity;return/*#__PURE__*/_jsxs(\"tr\",{children:[/*#__PURE__*/_jsx(\"td\",{children:/*#__PURE__*/_jsx(\"img\",{src:item.image,alt:\"cake img\",style:{width:\"60px\",height:\"60px\"}})}),/*#__PURE__*/_jsx(\"td\",{children:item.name}),/*#__PURE__*/_jsxs(\"td\",{children:[\"$\",item.price]}),/*#__PURE__*/_jsx(\"td\",{children:item.quantity}),/*#__PURE__*/_jsxs(\"td\",{children:[/*#__PURE__*/_jsx(\"button\",{className:\"btn btn-danger\",onClick:function onClick(){return removeFromCart(item.cakeid);},style:btnStyle,children:\"Remove from cart\"}),item.quantity>1&&/*#__PURE__*/_jsx(\"button\",{className:\"btn btn-warning\",style:_objectSpread({marginLeft:\"5px\"},btnStyle),onClick:function onClick(){return removeOneFromCart(item.cakeid);},children:\"Remove only 1 from the cart\"})]})]},index);})}),/*#__PURE__*/_jsx(\"tfoot\",{children:/*#__PURE__*/_jsxs(\"tr\",{children:[/*#__PURE__*/_jsx(\"th\",{colSpan:\"4\",children:\"Total:\"}),/*#__PURE__*/_jsx(\"td\",{children:/*#__PURE__*/_jsxs(\"div\",{className:\"row\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"col-6\",children:/*#__PURE__*/_jsxs(\"strong\",{children:[\"$\",total]})}),total>0&&/*#__PURE__*/_jsx(\"div\",{className:\"col-6\",children:/*#__PURE__*/_jsx(\"button\",{onClick:function onClick(){return placeOrder(total);},className:\"btn btn-success\",style:btnStyle,children:\"Place Order\"})})]})})]})})]})})});}var mapStateToProps=function mapStateToProps(state){return{loading:state.cart.loading,cart:state.cart.cart};};var mapDispatchToProps=function mapDispatchToProps(dispatch){return{fetchCart:function fetchCart(){return dispatch(_fetchCart());},removeFromCart:function removeFromCart(data){return dispatch(_removeFromCart(data));},removeOneFromCart:function removeOneFromCart(data){return dispatch(_removeOneFromCart(data));}};};export default connect(mapStateToProps,mapDispatchToProps)(Cart);","map":{"version":3,"sources":["/home/neosoft/react-project/react-second-saga/src/components/Cart.js"],"names":["axios","useEffect","useState","CircleLoader","connect","fetchCart","removeFromCart","removeOneFromCart","useHistory","Cart","cart","loading","loaderStyle","position","left","top","zIndex","btnStyle","borderRadius","history","total","placeOrder","route","push","marginTop","marginLeft","width","map","item","index","price","quantity","image","height","name","cakeid","mapStateToProps","state","mapDispatchToProps","dispatch","data"],"mappings":"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","sourcesContent":["import axios from \"axios\";\nimport { useEffect, useState } from \"react\";\nimport { CircleLoader } from \"react-spinners\";\nimport {connect} from 'react-redux'\nimport { fetchCart, removeFromCart, removeOneFromCart } from \"../reduxstore\";\nimport { useHistory } from \"react-router-dom\";\n\nfunction Cart({cart, loading, fetchCart, removeFromCart, removeOneFromCart}) {\n    const loaderStyle = {\n        position:\"absolute\",\n        left:\"50%\",\n        top:\"50%\",\n        zIndex:\"999\",\n    }\n    const btnStyle = {\n        borderRadius:\"0\"\n    }\n    const history = useHistory()\n    useEffect(() => {\n        fetchCart()\n    },[]);\n\n    let total = 0\n    const placeOrder = (total) => {\n        const route = '/placeorder?price=' + total\n        history.push(route)\n    }\n\n    return (\n        <div>\n            {loading ? <div style={loaderStyle}><CircleLoader/></div>: <div style={{marginTop:\"15px\", marginLeft:\"20px\"}}><table className=\"table table-bordered\" style={{width:\"80%\"}}>\n                <thead className=\"thead-dark\">\n                    <tr>\n                        <th>Image</th>\n                        <th>Name</th>\n                        <th>Price</th>\n                        <th>Quantity</th>\n                        <th>Action</th>\n                    </tr>\n                </thead>\n                <tbody>\n                    {\n                        cart.map((item, index) => {\n                            total += item.price * item.quantity\n                            return (\n                                <tr key={index}>\n                                    <td>\n                                        <img \n                                        src={item.image} \n                                        alt=\"cake img\" \n                                        style={{width:\"60px\",height:\"60px\"}}\n                                        />\n                                    </td>\n                                    <td>{item.name}</td>\n                                    <td>${item.price}</td>\n                                    <td>{item.quantity}</td>\n                                    <td>\n                                        <button \n                                        className=\"btn btn-danger\" \n                                        onClick={() => removeFromCart(item.cakeid)}\n                                        style={btnStyle}\n                                        >\n                                            Remove from cart\n                                        </button>\n                                        {item.quantity > 1 && <button \n                                        className=\"btn btn-warning\" \n                                        style={{marginLeft:\"5px\",...btnStyle}}\n                                        onClick={() => removeOneFromCart(item.cakeid)}\n                                        >\n                                            Remove only 1 from the cart\n                                        </button>}\n                                    </td>\n                                    \n                                </tr>\n                            )\n                        })\n                    }\n                </tbody>\n                <tfoot>\n                    <tr>\n                        <th colSpan=\"4\">Total:</th>\n                        <td>\n                            <div className=\"row\">\n                                <div className=\"col-6\">\n                                    <strong>${total}</strong>\n                                </div>\n                                {total > 0 && <div className=\"col-6\">\n                                    <button onClick={() => placeOrder(total)} className=\"btn btn-success\" style={btnStyle}>Place Order</button>\n                                </div>}\n                            </div>\n                        </td>\n                    </tr>\n                </tfoot>\n            </table></div>}\n        </div>\n    )\n}\nconst mapStateToProps = (state) => {\n    return {\n        loading:state.cart.loading,\n        cart:state.cart.cart\n    }\n}\n\nconst mapDispatchToProps = (dispatch) => {\n    return {\n        fetchCart:() => dispatch(fetchCart()),\n        removeFromCart: (data) => dispatch(removeFromCart(data)),\n        removeOneFromCart: (data) => dispatch(removeOneFromCart(data))\n    }\n}\n\n\nexport default connect(mapStateToProps,mapDispatchToProps)(Cart);"]},"metadata":{},"sourceType":"module"}