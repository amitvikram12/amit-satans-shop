{"ast":null,"code":"import { put, call } from \"@redux-saga/core/effects\";\nimport axios from \"axios\";\nimport { addCakeOrder, addToCartError, addToCartRequest, addToCartSuccess, fetchCartError, fetchCartRequest, fetchCartSuccess, removeCartError, removeCartRequest, removeCartSuccess, removeOneFromCartError, removeOneFromCartSuccess } from \"./cartAction\";\nexport function* fetchCartGenerator() {\n  yield put(fetchCartRequest());\n\n  const apiCall = () => {\n    return axios.post(`${process.env.REACT_APP_CAKE_WEBSITE_API_URL}/cakecart`, {}).then(response => response.data).catch(error => {\n      throw error;\n    });\n  };\n\n  try {\n    const data = yield call(apiCall);\n\n    if (data.data) {\n      yield put(fetchCartSuccess(data.data));\n    }\n  } catch (e) {\n    yield put(fetchCartError(e.message));\n  }\n}\nexport function* removeCartGenerator(action) {\n  yield put(removeCartRequest());\n\n  const apiCall = () => {\n    const url = `${process.env.REACT_APP_CAKE_WEBSITE_API_URL}/removecakefromcart`;\n    const data = {\n      cakeid: action.cakeid\n    };\n    return axios.post(url, data).then(response => response.data).catch(error => {\n      throw error;\n    });\n  };\n\n  try {\n    const data = yield call(apiCall);\n\n    if (data.data) {\n      yield put(removeCartSuccess(action.cakeid));\n    }\n  } catch (e) {\n    yield put(removeCartError(e.message));\n  }\n}\nexport function* addCakeToCartGenerator(action) {\n  yield put(addToCartRequest());\n\n  const apiCall = () => {\n    const url = `${process.env.REACT_APP_CAKE_WEBSITE_API_URL}/addcaketocart`;\n    const postData = {\n      name: action.payload.name,\n      cakeid: action.payload.cakeid,\n      price: action.payload.price,\n      weight: action.payload.weight,\n      image: action.payload.image,\n      quantity: 1\n    };\n    return axios.post(url, postData).then(response => response.data).catch(error => {\n      throw error;\n    });\n  };\n\n  try {\n    const data = yield call(apiCall);\n\n    if (data.data) {\n      alert(\"Product added to cart successfully\");\n      yield put(addToCartSuccess());\n    }\n  } catch (e) {\n    yield put(addToCartError(e.message));\n  }\n}\nexport function* removeOneFromCartGenerator(action) {\n  yield put(removeCartRequest());\n\n  const apiCall = () => {\n    const url = `${process.env.REACT_APP_CAKE_WEBSITE_API_URL}/removeonecakefromcart`;\n    const postData = {\n      cakeid: action.payload\n    };\n    return axios.post(url, postData).then(response => response.data).catch(error => {\n      throw error;\n    });\n  };\n\n  try {\n    const data = yield call(apiCall);\n\n    if (data) {\n      yield put(removeOneFromCartSuccess(action.payload));\n    }\n  } catch (e) {\n    yield put(removeOneFromCartError(e.message));\n  }\n}\nexport function* addCakeOrderGenerator(action) {\n  yield put();\n}","map":{"version":3,"sources":["/home/neosoft/react-project/react-second-saga/src/reduxstore/cart/cartGenerator.js"],"names":["put","call","axios","addCakeOrder","addToCartError","addToCartRequest","addToCartSuccess","fetchCartError","fetchCartRequest","fetchCartSuccess","removeCartError","removeCartRequest","removeCartSuccess","removeOneFromCartError","removeOneFromCartSuccess","fetchCartGenerator","apiCall","post","process","env","REACT_APP_CAKE_WEBSITE_API_URL","then","response","data","catch","error","e","message","removeCartGenerator","action","url","cakeid","addCakeToCartGenerator","postData","name","payload","price","weight","image","quantity","alert","removeOneFromCartGenerator","addCakeOrderGenerator"],"mappings":"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","sourcesContent":["import { put , call } from \"@redux-saga/core/effects\"\nimport axios from \"axios\"\nimport { \n    addCakeOrder,\n    addToCartError,\n    addToCartRequest,\n    addToCartSuccess,\n    fetchCartError, \n    fetchCartRequest, \n    fetchCartSuccess, \n    removeCartError, \n    removeCartRequest, \n    removeCartSuccess, \n    removeOneFromCartError, \n    removeOneFromCartSuccess\n} from \"./cartAction\"\n\nexport function* fetchCartGenerator() {\n    yield put(fetchCartRequest())\n    const apiCall = () => {\n        return axios.post(`${process.env.REACT_APP_CAKE_WEBSITE_API_URL}/cakecart`, {}).then(\n            response => response.data\n        ).catch(\n            error => {\n                throw error\n            }\n        )\n    }\n\n    try{\n        const data = yield call(apiCall)\n        if (data.data) {\n            yield put(fetchCartSuccess(data.data))\n        }\n    }\n    catch(e) {\n        yield put(fetchCartError(e.message))\n    }\n    \n}\n\nexport function* removeCartGenerator(action) {\n    yield put(removeCartRequest())\n\n    const apiCall = () => {\n        const url = `${process.env.REACT_APP_CAKE_WEBSITE_API_URL}/removecakefromcart`\n        const data = {cakeid:action.cakeid}\n        return axios.post(url, data).then(\n            response => response.data\n        ).catch(\n            error => {\n                throw error\n            }\n        )\n    }\n    try{\n        const data = yield call(apiCall)\n        if (data.data) {\n            yield put(removeCartSuccess(action.cakeid))\n        }\n    }\n    catch(e) {\n        yield put(removeCartError(e.message))\n    }\n}\n\nexport function* addCakeToCartGenerator(action) {\n    yield put(addToCartRequest())\n\n    const apiCall = () => {\n        const url = `${process.env.REACT_APP_CAKE_WEBSITE_API_URL}/addcaketocart`\n        const postData = {\n            name:action.payload.name,\n            cakeid:action.payload.cakeid,\n            price:action.payload.price,\n            weight: action.payload.weight,\n            image:action.payload.image,\n            quantity:1\n        }\n        return axios.post(url, postData).then(\n            response => response.data\n        ).catch(\n            error => {\n                throw error\n            }\n        )\n    }\n    try{\n        const data = yield call(apiCall)\n        if (data.data) {\n            alert(\"Product added to cart successfully\")\n            yield put(addToCartSuccess())\n        }\n    }\n   catch (e) {\n       yield put(addToCartError(e.message))\n   }\n    \n}\n\nexport function* removeOneFromCartGenerator(action) {\n    yield put(removeCartRequest())\n\n    const apiCall = () => {\n        const url = `${process.env.REACT_APP_CAKE_WEBSITE_API_URL}/removeonecakefromcart`\n        const postData = {cakeid:action.payload}\n\n        return axios.post(url, postData).then(\n            response => response.data\n        ).catch(\n            error => {\n                throw error\n            }\n        )\n    }\n\n    try{\n        const data = yield call(apiCall)\n        if (data) {\n            yield put(removeOneFromCartSuccess(action.payload))\n        }\n    }\n    catch(e) {\n        yield put(removeOneFromCartError(e.message))\n    }\n}\n\nexport function* addCakeOrderGenerator(action) {\n    yield put()\n}\n\n"]},"metadata":{},"sourceType":"module"}