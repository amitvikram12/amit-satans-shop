{"ast":null,"code":"import _objectSpread from\"/home/neosoft/react-project/react-second-saga/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/objectSpread2\";import{ADD_TO_CART_REQUEST,ADD_TO_CART_SUCCESS,ADD_TO_CART_ERROR,FETCH_CART_ERROR,FETCH_CART_REQUEST,FETCH_CART_SUCCESS,REMOVE_CART_ERROR,REMOVE_CART_REQUEST,REMOVE_CART_SUCCESS,REMOVE_ONE_FROM_CART_REQUEST,REMOVE_ONE_FROM_CART_SUCCESS,REMOVE_ONE_FROM_CART_ERROR,ADD_CAKE_ORDER_REQUEST,ADD_CAKE_ORDER_SUCCESS,ADD_CAKE_ORDER_ERROR}from\"./cartTypes\";var initialState={loading:false,cart:[],error:'',cartCount:0};var cartReducer=function cartReducer(){var state=arguments.length>0&&arguments[0]!==undefined?arguments[0]:initialState;var action=arguments.length>1?arguments[1]:undefined;switch(action.type){case FETCH_CART_REQUEST:return _objectSpread(_objectSpread({},state),{},{loading:true,error:''});case FETCH_CART_SUCCESS:return _objectSpread(_objectSpread({},state),{},{loading:false,cart:action.payload,error:'',cartCount:getCartCount(action.payload)});case FETCH_CART_ERROR:return _objectSpread(_objectSpread({},state),{},{loading:false,error:action.payload});case ADD_TO_CART_REQUEST:return _objectSpread(_objectSpread({},state),{},{loading:true,error:''});case ADD_TO_CART_SUCCESS:return _objectSpread(_objectSpread({},state),{},{loading:false,error:'',cartCount:state.cartCount+1});case ADD_TO_CART_ERROR:return _objectSpread(_objectSpread({},state),{},{loading:false,error:''});case REMOVE_CART_REQUEST:return _objectSpread(_objectSpread({},state),{},{loading:true,error:''});case REMOVE_CART_SUCCESS:return _objectSpread(_objectSpread({},state),{},{loading:false,cart:state.cart.filter(function(item){return item.cakeid!==action.payload;}),error:'',cartCount:removeCartCount(state.cart,state.cartCount,action.payload)});case REMOVE_CART_ERROR:return _objectSpread(_objectSpread({},state),{},{loading:false,error:''});case ADD_CAKE_ORDER_REQUEST:return _objectSpread(_objectSpread({},state),{},{loading:true,error:''});case ADD_CAKE_ORDER_SUCCESS:return _objectSpread(_objectSpread({},state),{},{loading:false,cart:[],error:'',cartCount:0});case ADD_CAKE_ORDER_ERROR:return _objectSpread(_objectSpread({},state),{},{loading:false,error:action.payload});case REMOVE_ONE_FROM_CART_REQUEST:return _objectSpread(_objectSpread({},state),{},{loading:true,error:''});case REMOVE_ONE_FROM_CART_SUCCESS:return _objectSpread(_objectSpread({},state),{},{loading:false,cart:state.cart.map(function(item){if(item.cakeid==action.payload){item.quantity--;}return item;}),error:'',cartCount:state.cartCount-1});case REMOVE_ONE_FROM_CART_ERROR:return _objectSpread(_objectSpread({},state),{},{loading:false,error:''});default:return state;}};var getCartCount=function getCartCount(cart){var cartCount=0;cart.forEach(function(item){cartCount+=item.quantity;});return cartCount;};var removeCartCount=function removeCartCount(cart,cartCount,cakeid){var item=cart.filter(function(item){return item.cakeid===cakeid;});return cartCount-item[0].quantity;};export default cartReducer;","map":{"version":3,"sources":["/home/neosoft/react-project/react-second-saga/src/reduxstore/cart/cartReducer.js"],"names":["ADD_TO_CART_REQUEST","ADD_TO_CART_SUCCESS","ADD_TO_CART_ERROR","FETCH_CART_ERROR","FETCH_CART_REQUEST","FETCH_CART_SUCCESS","REMOVE_CART_ERROR","REMOVE_CART_REQUEST","REMOVE_CART_SUCCESS","REMOVE_ONE_FROM_CART_REQUEST","REMOVE_ONE_FROM_CART_SUCCESS","REMOVE_ONE_FROM_CART_ERROR","ADD_CAKE_ORDER_REQUEST","ADD_CAKE_ORDER_SUCCESS","ADD_CAKE_ORDER_ERROR","initialState","loading","cart","error","cartCount","cartReducer","state","action","type","payload","getCartCount","filter","item","cakeid","removeCartCount","map","quantity","forEach"],"mappings":"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","sourcesContent":["import { \n    ADD_TO_CART_REQUEST, \n    ADD_TO_CART_SUCCESS, \n    ADD_TO_CART_ERROR,  \n    FETCH_CART_ERROR, \n    FETCH_CART_REQUEST, \n    FETCH_CART_SUCCESS, \n    REMOVE_CART_ERROR, \n    REMOVE_CART_REQUEST, \n    REMOVE_CART_SUCCESS,\n    REMOVE_ONE_FROM_CART_REQUEST,\n    REMOVE_ONE_FROM_CART_SUCCESS,\n    REMOVE_ONE_FROM_CART_ERROR, \n    ADD_CAKE_ORDER_REQUEST,\n    ADD_CAKE_ORDER_SUCCESS,\n    ADD_CAKE_ORDER_ERROR\n} from \"./cartTypes\"\n\nconst initialState = {\n    loading:false,\n    cart:[],\n    error:'',\n    cartCount:0\n}\n\nconst cartReducer = (state = initialState, action) => {\n    switch(action.type) {\n        case FETCH_CART_REQUEST:\n            return {\n                ...state,\n                loading:true,\n                error:''\n            }\n        case FETCH_CART_SUCCESS:\n            return {\n                ...state,\n                loading:false,\n                cart:action.payload,\n                error:'',\n                cartCount:getCartCount(action.payload)\n            }\n        case FETCH_CART_ERROR:\n            return {\n                ...state,\n                loading:false,\n                error:action.payload\n            }\n        case ADD_TO_CART_REQUEST:\n            return {\n                ...state,\n                loading:true,\n                error:''\n            }\n        case ADD_TO_CART_SUCCESS:\n            return {\n                ...state,\n                loading:false,\n                error:'',\n                cartCount:state.cartCount + 1\n            }\n        case ADD_TO_CART_ERROR:\n            return {\n                ...state,\n                loading:false,\n                error:''\n            }\n        case REMOVE_CART_REQUEST:\n            return {\n                ...state,\n                loading:true,\n                error:''\n            }\n        case REMOVE_CART_SUCCESS:\n            return {\n                ...state,\n                loading:false,\n                cart:state.cart.filter(item => item.cakeid !== action.payload),\n                error:'',\n                cartCount: removeCartCount(state.cart, state.cartCount, action.payload)\n            }\n        case REMOVE_CART_ERROR:\n            return {\n                ...state,\n                loading:false,\n                error:''\n            }\n        case ADD_CAKE_ORDER_REQUEST:\n            return {\n                ...state,\n                loading:true,\n                error:''\n            }\n        case ADD_CAKE_ORDER_SUCCESS:\n            return {\n                ...state,\n                loading:false,\n                cart:[],\n                error:'',\n                cartCount:0\n            }\n        case ADD_CAKE_ORDER_ERROR:\n            return {\n                ...state,\n                loading:false,\n                error:action.payload\n            }\n        case REMOVE_ONE_FROM_CART_REQUEST:\n            return {\n                ...state,\n                loading:true,\n                error:''\n            }\n        case REMOVE_ONE_FROM_CART_SUCCESS:\n            return {\n                ...state,\n                loading:false,\n                cart:state.cart.map(item => {\n                    if (item.cakeid == action.payload) {\n                        item.quantity--\n                    }\n                    return item\n                }),\n                error:'',\n                cartCount: state.cartCount - 1\n            }\n        case REMOVE_ONE_FROM_CART_ERROR:\n            return {\n                ...state,\n                loading:false,\n                error:''\n            }\n        default: return state\n    }\n}\n\nconst getCartCount = (cart) => {\n    let cartCount = 0;\n    cart.forEach(item => {\n        cartCount += item.quantity\n    })\n    return cartCount\n}\n\nconst removeCartCount = (cart, cartCount, cakeid) => {\n    const item = cart.filter(item => item.cakeid === cakeid)\n    return cartCount - item[0].quantity\n}\n\nexport default cartReducer;"]},"metadata":{},"sourceType":"module"}