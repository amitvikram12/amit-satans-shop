{"ast":null,"code":"import _slicedToArray from\"/home/neosoft/react-project/react-first/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/slicedToArray\";import axios from\"axios\";import{useState,useEffect}from\"react\";import StarRatingComponent from\"react-star-rating-component\";import{CircleLoader}from\"react-spinners\";import{useHistory}from\"react-router\";import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";var CakeDetails=function CakeDetails(_ref){var _cake$owner,_cake$ingredients;var match=_ref.match,location=_ref.location;var id=match.params.id;var history=useHistory();console.log(match);var _useState=useState({}),_useState2=_slicedToArray(_useState,2),cake=_useState2[0],setCake=_useState2[1];var _useState3=useState(true),_useState4=_slicedToArray(_useState3,2),loading=_useState4[0],setLoading=_useState4[1];var loaderStyle={position:\"absolute\",left:\"50%\",top:\"50%\",zIndex:\"999\"};var cakeUrl=\"\".concat(process.env.REACT_APP_CAKE_WEBSITE_API_URL,\"/cake/\").concat(id);useEffect(function(){axios({method:\"GET\",url:cakeUrl}).then(function(response){console.log(response.data);setCake(response.data.data);setLoading(false);console.log(cake);},function(error){console.log(error);setLoading(false);});},[]);var addToCart=function addToCart(){axios({url:\"\".concat(process.env.REACT_APP_CAKE_WEBSITE_API_URL,\"/addcaketocart\"),method:\"POST\",data:{name:cake.name,cakeid:cake.cakeid,price:cake.price,weight:cake.weight,image:cake.image,quantity:1}}).then(function(response){alert(\"Product added to cart successfully\");console.log(response.data);history.goBack();},function(error){console.log(error);});};return/*#__PURE__*/_jsx(\"div\",{children:loading?/*#__PURE__*/_jsx(\"div\",{style:loaderStyle,children:/*#__PURE__*/_jsx(CircleLoader,{})}):/*#__PURE__*/_jsxs(\"div\",{className:\"row\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"col-6\",children:/*#__PURE__*/_jsx(\"img\",{src:cake.image,alt:\"Cake Image\",style:{height:\"30rem\",width:\"30rem\"}})}),/*#__PURE__*/_jsx(\"div\",{className:\"col-6\",children:/*#__PURE__*/_jsxs(\"table\",{className:\"table\",children:[/*#__PURE__*/_jsx(\"tr\",{children:/*#__PURE__*/_jsxs(\"td\",{children:[\"Name: \",cake.name]})}),/*#__PURE__*/_jsx(\"tr\",{children:/*#__PURE__*/_jsxs(\"td\",{children:[\"Description: \",cake.description]})}),/*#__PURE__*/_jsx(\"tr\",{children:/*#__PURE__*/_jsxs(\"td\",{children:[\"Flavour: \",cake.flavour]})}),/*#__PURE__*/_jsx(\"tr\",{children:/*#__PURE__*/_jsxs(\"td\",{children:[\"Cake type: \",cake.type]})}),/*#__PURE__*/_jsx(\"tr\",{children:/*#__PURE__*/_jsxs(\"td\",{children:[\"Price: \",cake.price]})}),/*#__PURE__*/_jsx(\"tr\",{children:/*#__PURE__*/_jsxs(\"td\",{children:[\"Weight: \",cake.weight,\" kg\"]})}),/*#__PURE__*/_jsx(\"tr\",{children:/*#__PURE__*/_jsxs(\"td\",{children:[\"Created by: \",(_cake$owner=cake.owner)===null||_cake$owner===void 0?void 0:_cake$owner.name]})}),/*#__PURE__*/_jsxs(\"tr\",{children:[/*#__PURE__*/_jsx(\"td\",{children:\"Ingredients\"}),/*#__PURE__*/_jsx(\"td\",{children:/*#__PURE__*/_jsx(\"ul\",{children:(_cake$ingredients=cake.ingredients)===null||_cake$ingredients===void 0?void 0:_cake$ingredients.map(function(each,index){return/*#__PURE__*/_jsx(\"li\",{children:each});})})})]}),/*#__PURE__*/_jsx(\"tr\",{children:/*#__PURE__*/_jsx(\"td\",{children:/*#__PURE__*/_jsx(StarRatingComponent,{name:\"Rating\",value:\"4.5\",starCount:\"5\",renderStarIconHalf:function renderStarIconHalf(){return/*#__PURE__*/_jsxs(\"span\",{children:[/*#__PURE__*/_jsx(\"span\",{style:{position:'absolute'},children:/*#__PURE__*/_jsx(\"i\",{className:\"far fa-star\"})}),/*#__PURE__*/_jsx(\"span\",{children:/*#__PURE__*/_jsx(\"i\",{className:\"fas fa-star-half\"})})]});}})})}),/*#__PURE__*/_jsx(\"tr\",{children:/*#__PURE__*/_jsx(\"td\",{children:/*#__PURE__*/_jsx(\"button\",{onClick:addToCart,className:\"btn btn-block btn-primary\",children:\"Add to cart\"})})})]})})]})});};export default CakeDetails;","map":{"version":3,"sources":["/home/neosoft/react-project/react-first/src/components/CakeDetails.js"],"names":["axios","useState","useEffect","StarRatingComponent","CircleLoader","useHistory","CakeDetails","match","location","id","params","history","console","log","cake","setCake","loading","setLoading","loaderStyle","position","left","top","zIndex","cakeUrl","process","env","REACT_APP_CAKE_WEBSITE_API_URL","method","url","then","response","data","error","addToCart","name","cakeid","price","weight","image","quantity","alert","goBack","height","width","description","flavour","type","owner","ingredients","map","each","index"],"mappings":"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","sourcesContent":["import axios from \"axios\";\nimport { useState,useEffect } from \"react\";\nimport StarRatingComponent from \"react-star-rating-component\";\nimport { CircleLoader } from \"react-spinners\";\nimport { useHistory } from \"react-router\";\n\nconst CakeDetails = ({match, location}) => {\n    const {params : {id}} = match;\n    const history = useHistory();\n    console.log(match);\n    const [cake, setCake] = useState({});\n    const [loading, setLoading] = useState(true);\n    const loaderStyle = {\n        position:\"absolute\",\n        left:\"50%\",\n        top:\"50%\",\n        zIndex:\"999\",\n    }\n    const cakeUrl = `${process.env.REACT_APP_CAKE_WEBSITE_API_URL}/cake/${id}`;\n\n    useEffect(() => {\n        axios({\n            method:\"GET\",\n            url:cakeUrl,\n        })\n        .then((response) => {\n            console.log(response.data);\n            setCake(response.data.data)\n            setLoading(false);\n            console.log(cake);\n        }, (error) => {\n            console.log(error);\n            setLoading(false);\n        })\n    },[]);\n\n    const addToCart = () => {\n        axios({\n            url:`${process.env.REACT_APP_CAKE_WEBSITE_API_URL}/addcaketocart`,\n            method:\"POST\",\n            data:{\n                name:cake.name,\n                cakeid:cake.cakeid,\n                price:cake.price,\n                weight: cake.weight,\n                image:cake.image,\n                quantity:1\n            }\n        }).then((response) => {\n            alert(\"Product added to cart successfully\");\n            console.log(response.data);\n            history.goBack();\n        }, (error) => {\n            console.log(error);\n        })\n    }\n    return (\n        <div>\n            {loading ? <div style={loaderStyle}><CircleLoader/></div>:    <div className=\"row\">\n                <div className=\"col-6\">\n                    <img src={cake.image} alt=\"Cake Image\" style={{height:\"30rem\",width:\"30rem\"}}/>\n                </div>\n                <div className=\"col-6\">\n                    <table className=\"table\">\n                        <tr>\n                            <td>Name: {cake.name}</td>\n                        </tr>\n                        <tr>\n                            <td>Description: {cake.description}</td>\n                        </tr>\n                        <tr>\n                            <td>Flavour: {cake.flavour}</td>\n                        </tr>\n                        <tr>\n                            <td>Cake type: {cake.type}</td>\n                        </tr>\n                        <tr>\n                            <td>Price: {cake.price}</td>\n                        </tr>\n                        <tr>\n                            <td>Weight: {cake.weight} kg</td>\n                        </tr>\n                        <tr>\n                            <td>Created by: {cake.owner?.name}</td>\n                        </tr>\n                        <tr>\n                            <td>Ingredients</td>\n                            <td>\n                                <ul>\n                                    {cake.ingredients?.map((each, index) =>{\n\n                                        return(\n                                            <li>{each}</li>\n                                        )\n                                    })}\n                                </ul>\n                            </td>\n                        </tr>\n                        <tr>\n                            <td>\n                                <StarRatingComponent\n                                name=\"Rating\"\n                                value=\"4.5\"\n                                starCount=\"5\"\n                                renderStarIconHalf={() => {\n                                    return (\n                                    <span>\n                                        <span style={{position: 'absolute'}}><i className=\"far fa-star\" /></span>\n                                        <span><i className=\"fas fa-star-half\" /></span>\n                                    </span>\n                                    );\n                                }}\n                                />\n                            </td>\n                        </tr>\n                        <tr>\n                            <td>\n                                <button\n                                onClick={addToCart} \n                                className=\"btn btn-block btn-primary\">\n                                Add to cart\n                                </button>\n                            </td>\n                        </tr>\n                    </table>\n                </div>\n            </div>}\n        </div>\n    );\n};\n\nexport default CakeDetails;"]},"metadata":{},"sourceType":"module"}