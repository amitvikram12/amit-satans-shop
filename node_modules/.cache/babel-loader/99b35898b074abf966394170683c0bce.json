{"ast":null,"code":"import _slicedToArray from\"/home/neosoft/react-project/react-first/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/slicedToArray\";import{Link}from'react-router-dom';import{useState}from'react';import axios from'axios';import{CircleLoader}from'react-spinners';import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";function Login(_ref){var setIsLoggedIn=_ref.setIsLoggedIn;var textData=\"\";var typedPassword=\"\";var _useState=useState(\"\"),_useState2=_slicedToArray(_useState,2),emailError=_useState2[0],setEmailError=_useState2[1];var _useState3=useState(\"\"),_useState4=_slicedToArray(_useState3,2),passWordError=_useState4[0],setPasswordError=_useState4[1];var _useState5=useState(false),_useState6=_slicedToArray(_useState5,2),loading=_useState6[0],setLoading=_useState6[1];var loaderStyle={position:\"absolute\",left:\"50%\",top:\"50%\",zIndex:\"999\"};var validateEmail=function validateEmail(email){var re=/^(([^<>()[\\]\\\\.,;:\\s@\\\"]+(\\.[^<>()[\\]\\\\.,;:\\s@\\\"]+)*)|(\\\".+\\\"))@((\\[[0-9]{1,3}\\.[0-9]{1,3}\\.[0-9]{1,3}\\.[0-9]{1,3}\\])|(([a-zA-Z\\-0-9]+\\.)+[a-zA-Z]{2,}))$/;return re.test(email);};var login=function login(event){setLoading(true);var validationError=false;event.preventDefault();if(textData===\"\"){setEmailError(\"Email is required\");if(!validationError){setPasswordError(\"\");}validationError=true;}else if(!validateEmail(textData)){setEmailError(\"Invalid email\");validationError=true;}if(!validationError){axios({method:\"POST\",url:\"\".concat(process.env.REACT_APP_CAKE_WEBSITE_API_URL,\"/login\"),data:{email:textData,password:typedPassword}}).then(function(response){console.log(response);setIsLoggedIn(true);setLoading(false);},function(error){console.log(error);});// this.props.history.push(\"/\");\n}};var getTypedEmail=function getTypedEmail(event){textData=event.target.value;};var getTypedPassword=function getTypedPassword(event){typedPassword=event.target.value;};return/*#__PURE__*/_jsx(\"div\",{children:loading?/*#__PURE__*/_jsx(\"div\",{style:loaderStyle,children:/*#__PURE__*/_jsx(CircleLoader,{})}):/*#__PURE__*/_jsxs(\"div\",{class:\"container mt-5\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"form-group\",children:[/*#__PURE__*/_jsx(\"input\",{onChange:getTypedEmail,type:\"text\",className:\"form-control\",placeholder:\"Type your email here...\"}),/*#__PURE__*/_jsx(\"div\",{style:{color:\"red\",fontSize:\"15px\"},children:emailError})]}),/*#__PURE__*/_jsx(\"div\",{className:\"form-group\",children:/*#__PURE__*/_jsx(\"input\",{onChange:getTypedPassword,type:\"password\",className:\"form-control\",placeholder:\"Type your password here...\"})}),/*#__PURE__*/_jsx(\"div\",{className:\"form-group\",children:/*#__PURE__*/_jsx(\"button\",{onClick:login,className:\"btn btn-danger\",children:\"Login\"})}),/*#__PURE__*/_jsx(\"div\",{className:\"row\",children:/*#__PURE__*/_jsx(\"div\",{className:\"col-6\",children:/*#__PURE__*/_jsx(Link,{to:\"/forgot\",children:/*#__PURE__*/_jsx(\"a\",{className:\"btn btn-danger\",href:\"#\",children:\"Forgot password\"})})})})]})});}export default Login;","map":{"version":3,"sources":["/home/neosoft/react-project/react-first/src/components/Login.js"],"names":["Link","useState","axios","CircleLoader","Login","setIsLoggedIn","textData","typedPassword","emailError","setEmailError","passWordError","setPasswordError","loading","setLoading","loaderStyle","position","left","top","zIndex","validateEmail","email","re","test","login","event","validationError","preventDefault","method","url","process","env","REACT_APP_CAKE_WEBSITE_API_URL","data","password","then","response","console","log","error","getTypedEmail","target","value","getTypedPassword","color","fontSize"],"mappings":"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","sourcesContent":["import { Link } from 'react-router-dom';\nimport {useState} from 'react';\nimport axios from 'axios';\nimport { CircleLoader } from 'react-spinners';\n\nfunction Login({setIsLoggedIn}){\n    let textData =\"\";\n    let typedPassword =\"\";\n    const [emailError, setEmailError] = useState(\"\")\n    const[passWordError, setPasswordError] = useState(\"\");\n    const [loading, setLoading] = useState(false);\n    const loaderStyle = {\n        position:\"absolute\",\n        left:\"50%\",\n        top:\"50%\",\n        zIndex:\"999\",\n    }\n    const validateEmail = (email) => {\n        const re = /^(([^<>()[\\]\\\\.,;:\\s@\\\"]+(\\.[^<>()[\\]\\\\.,;:\\s@\\\"]+)*)|(\\\".+\\\"))@((\\[[0-9]{1,3}\\.[0-9]{1,3}\\.[0-9]{1,3}\\.[0-9]{1,3}\\])|(([a-zA-Z\\-0-9]+\\.)+[a-zA-Z]{2,}))$/;\n        return re.test(email);\n      }\n    const login = (event) => {\n        setLoading(true);\n        let validationError = false;\n        event.preventDefault();\n        if (textData === \"\") {\n            setEmailError(\"Email is required\");\n            if (!validationError) {\n                setPasswordError(\"\")\n            }\n            validationError = true;\n        }\n        else if (!validateEmail(textData)) {\n            setEmailError(\"Invalid email\");\n            validationError = true;\n        }\n        if (!validationError) {\n            axios({\n                method:\"POST\",\n                url:`${process.env.REACT_APP_CAKE_WEBSITE_API_URL}/login`,\n                data:{email:textData, password:typedPassword}\n            }).then((response) => {\n                console.log(response);\n                setIsLoggedIn(true);\n                setLoading(false);\n            }, (error) => {\n                console.log(error);\n            })\n            \n            \n            // this.props.history.push(\"/\");\n        }\n    }\n\n    const getTypedEmail = (event) => {\n        textData = event.target.value;\n    }\n\n    const getTypedPassword = (event) => {\n        typedPassword = event.target.value;\n    }\n\n\n\n    return (\n        <div>\n            {loading ? <div style={loaderStyle}><CircleLoader/></div>:<div class=\"container mt-5\">\n                <div className=\"form-group\">\n                    <input onChange={getTypedEmail} type=\"text\"className=\"form-control\" placeholder=\"Type your email here...\"/>\n                    <div style={{color:\"red\",fontSize:\"15px\"}}>{emailError}</div>\n                </div>\n                <div className=\"form-group\">\n                    <input onChange={getTypedPassword} type=\"password\"className=\"form-control\" placeholder=\"Type your password here...\"/>\n                </div>\n                <div className=\"form-group\">\n                <button onClick={login} className=\"btn btn-danger\">Login</button>\n                </div>\n                <div className=\"row\">\n                    <div className=\"col-6\">\n                        <Link to=\"/forgot\">\n                            <a className=\"btn btn-danger\" href=\"#\">Forgot password</a>\n                        </Link>\n                    </div>\n                </div>\n            </div>}\n        </div>\n            \n            \n        \n    )\n}\n\nexport default Login;"]},"metadata":{},"sourceType":"module"}