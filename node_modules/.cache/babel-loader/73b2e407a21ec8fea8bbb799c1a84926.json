{"ast":null,"code":"import _regeneratorRuntime from\"/home/neosoft/react-project/react-second-saga/node_modules/babel-preset-react-app/node_modules/@babel/runtime/regenerator\";var _marked=/*#__PURE__*/_regeneratorRuntime.mark(fetchAllCakesGenerator),_marked2=/*#__PURE__*/_regeneratorRuntime.mark(fetchSearchCakeGenerator);import{call,put}from\"@redux-saga/core/effects\";import axios from\"axios\";import{fetchAllCakesError,fetchAllCakesRequest,fetchAllCakesSuccess,fetchSearchCakesError,fetchSearchCakesRequest,fetchSearchCakesSuccess}from\"./cakeActions\";export function fetchAllCakesGenerator(){var apiCall,data;return _regeneratorRuntime.wrap(function fetchAllCakesGenerator$(_context){while(1){switch(_context.prev=_context.next){case 0:_context.next=2;return put(fetchAllCakesRequest());case 2:apiCall=function apiCall(){var url=\"\".concat(process.env.REACT_APP_CAKE_WEBSITE_API_URL,\"/allcakes\");return axios.get(url).then(function(response){return response.data;}).catch(function(error){throw error;});};_context.prev=3;_context.next=6;return call(apiCall);case 6:data=_context.sent;if(!data.data){_context.next=10;break;}_context.next=10;return put(fetchAllCakesSuccess(data.data));case 10:_context.next=16;break;case 12:_context.prev=12;_context.t0=_context[\"catch\"](3);_context.next=16;return put(fetchAllCakesError(_context.t0.message));case 16:case\"end\":return _context.stop();}}},_marked,null,[[3,12]]);}export function fetchSearchCakeGenerator(action){var apiCall,data;return _regeneratorRuntime.wrap(function fetchSearchCakeGenerator$(_context2){while(1){switch(_context2.prev=_context2.next){case 0:_context2.next=2;return put(fetchSearchCakesRequest());case 2:apiCall=function apiCall(){var url=\"\".concat(process.env.REACT_APP_CAKE_WEBSITE_API_URL,\"/searchcakes?q=\").concat(action.searchText);return axios.get(url).then(function(response){return response.data;}).catch(function(error){throw error;});};_context2.prev=3;_context2.next=6;return call(apiCall);case 6:data=_context2.sent;if(!data.data){_context2.next=10;break;}_context2.next=10;return put(fetchSearchCakesSuccess(data.data));case 10:_context2.next=16;break;case 12:_context2.prev=12;_context2.t0=_context2[\"catch\"](3);_context2.next=16;return put(fetchSearchCakesError(_context2.t0.message));case 16:case\"end\":return _context2.stop();}}},_marked2,null,[[3,12]]);}","map":{"version":3,"sources":["/home/neosoft/react-project/react-second-saga/src/reduxstore/cakes/cakeGenerator.js"],"names":["fetchAllCakesGenerator","fetchSearchCakeGenerator","call","put","axios","fetchAllCakesError","fetchAllCakesRequest","fetchAllCakesSuccess","fetchSearchCakesError","fetchSearchCakesRequest","fetchSearchCakesSuccess","apiCall","url","process","env","REACT_APP_CAKE_WEBSITE_API_URL","get","then","response","data","catch","error","message","action","searchText"],"mappings":"6MAWiBA,sB,iDAwBAC,wB,EAnCjB,OAASC,IAAT,CAAeC,GAAf,KAA0B,0BAA1B,CACA,MAAOC,CAAAA,KAAP,KAAkB,OAAlB,CACA,OACIC,kBADJ,CAEIC,oBAFJ,CAGIC,oBAHJ,CAIIC,qBAJJ,CAKIC,uBALJ,CAMIC,uBANJ,KAOO,eAPP,CASA,MAAO,SAAUV,CAAAA,sBAAV,mKACH,MAAMG,CAAAA,GAAG,CAACG,oBAAoB,EAArB,CAAT,CADG,OAEGK,OAFH,CAEa,QAAVA,CAAAA,OAAU,EAAM,CACnB,GAAMC,CAAAA,GAAG,WAAMC,OAAO,CAACC,GAAR,CAAYC,8BAAlB,aAAT,CACA,MAAOX,CAAAA,KAAK,CAACY,GAAN,CAAUJ,GAAV,EAAeK,IAAf,CACH,SAAAC,QAAQ,QAAIA,CAAAA,QAAQ,CAACC,IAAb,EADL,EAELC,KAFK,CAGH,SAAAC,KAAK,CAAI,CACL,KAAMA,CAAAA,KAAN,CACH,CALE,CAAP,CAOF,CAXE,iCAcc,MAAMnB,CAAAA,IAAI,CAACS,OAAD,CAAV,CAdd,OAcOQ,IAdP,mBAeKA,IAAI,CAACA,IAfV,2CAgBK,MAAMhB,CAAAA,GAAG,CAACI,oBAAoB,CAACY,IAAI,CAACA,IAAN,CAArB,CAAT,CAhBL,0GAoBC,MAAMhB,CAAAA,GAAG,CAACE,kBAAkB,CAAC,YAAEiB,OAAH,CAAnB,CAAT,CApBD,qEAwBP,MAAO,SAAUrB,CAAAA,wBAAV,CAAmCsB,MAAnC,wKACH,MAAMpB,CAAAA,GAAG,CAACM,uBAAuB,EAAxB,CAAT,CADG,OAEGE,OAFH,CAEa,QAAVA,CAAAA,OAAU,EAAM,CAClB,GAAMC,CAAAA,GAAG,WAAMC,OAAO,CAACC,GAAR,CAAYC,8BAAlB,2BAAkEQ,MAAM,CAACC,UAAzE,CAAT,CACA,MAAOpB,CAAAA,KAAK,CAACY,GAAN,CAAUJ,GAAV,EAAeK,IAAf,CACH,SAAAC,QAAQ,QAAIA,CAAAA,QAAQ,CAACC,IAAb,EADL,EAELC,KAFK,CAGH,SAAAC,KAAK,CAAI,CACL,KAAMA,CAAAA,KAAN,CACH,CALE,CAAP,CAOH,CAXE,mCAcc,MAAMnB,CAAAA,IAAI,CAACS,OAAD,CAAV,CAdd,OAcOQ,IAdP,oBAeKA,IAAI,CAACA,IAfV,6CAgBK,MAAMhB,CAAAA,GAAG,CAACO,uBAAuB,CAACS,IAAI,CAACA,IAAN,CAAxB,CAAT,CAhBL,+GAoBC,MAAMhB,CAAAA,GAAG,CAACK,qBAAqB,CAAC,aAAEc,OAAH,CAAtB,CAAT,CApBD","sourcesContent":["import { call, put } from \"@redux-saga/core/effects\"\nimport axios from \"axios\"\nimport { \n    fetchAllCakesError, \n    fetchAllCakesRequest, \n    fetchAllCakesSuccess, \n    fetchSearchCakesError, \n    fetchSearchCakesRequest, \n    fetchSearchCakesSuccess \n} from \"./cakeActions\"\n\nexport function* fetchAllCakesGenerator() {\n    yield put(fetchAllCakesRequest())\n    const apiCall = () => {\n       const url = `${process.env.REACT_APP_CAKE_WEBSITE_API_URL}/allcakes`\n       return axios.get(url).then(\n           response => response.data\n       ).catch(\n           error => {\n               throw error\n           }\n       ) \n    }\n\n    try{\n        const data = yield call(apiCall)\n        if (data.data) {\n            yield put(fetchAllCakesSuccess(data.data))\n        }\n    }\n    catch(e) {\n        yield put(fetchAllCakesError(e.message))\n    }\n}\n\nexport function* fetchSearchCakeGenerator(action) {\n    yield put(fetchSearchCakesRequest())\n    const apiCall = () => {\n        const url = `${process.env.REACT_APP_CAKE_WEBSITE_API_URL}/searchcakes?q=${action.searchText}`\n        return axios.get(url).then(\n            response => response.data\n        ).catch(\n            error => {\n                throw error\n            }\n        )\n    }\n\n    try {\n        const data = yield call(apiCall)\n        if (data.data) {\n            yield put(fetchSearchCakesSuccess(data.data))\n        }\n    }\n    catch(e) {\n        yield put(fetchSearchCakesError(e.message))\n    }\n}"]},"metadata":{},"sourceType":"module"}