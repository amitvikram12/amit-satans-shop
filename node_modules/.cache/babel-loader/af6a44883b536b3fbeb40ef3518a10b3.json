{"ast":null,"code":"import _regeneratorRuntime from\"/home/neosoft/react-project/react-second-saga/node_modules/babel-preset-react-app/node_modules/@babel/runtime/regenerator\";var _marked=/*#__PURE__*/_regeneratorRuntime.mark(ordersGenerator);import{put,call}from\"@redux-saga/core/effects\";import axios from\"axios\";import{getOrderListRequest,getOrderListSuccess,getOrderListError}from'./ordersAction';export function ordersGenerator(){var apiCall,data;return _regeneratorRuntime.wrap(function ordersGenerator$(_context){while(1){switch(_context.prev=_context.next){case 0:_context.next=2;return put(getOrderListRequest());case 2:apiCall=function apiCall(){var url=\"\".concat(process.env.REACT_APP_CAKE_WEBSITE_API_URL,\"/cakeorders\");var headers={headers:{authtoken:localStorage.token}};return axios.post(url,{},headers).then(function(response){return response.data;}).catch(function(error){throw error;});};_context.prev=3;_context.next=6;return call(apiCall);case 6:data=_context.sent;if(!data){_context.next=11;break;}console.log(data);_context.next=11;return put(getOrderListSuccess(data));case 11:_context.next=17;break;case 13:_context.prev=13;_context.t0=_context[\"catch\"](3);_context.next=17;return put(getOrderListError(_context.t0.message));case 17:case\"end\":return _context.stop();}}},_marked,null,[[3,13]]);}","map":{"version":3,"sources":["/home/neosoft/react-project/react-second-saga/src/reduxstore/orders/ordersGenerator.js"],"names":["ordersGenerator","put","call","axios","getOrderListRequest","getOrderListSuccess","getOrderListError","apiCall","url","process","env","REACT_APP_CAKE_WEBSITE_API_URL","headers","authtoken","localStorage","token","post","then","response","data","catch","error","console","log","message"],"mappings":"6MAOiBA,e,EAPjB,OAASC,GAAT,CAAcC,IAAd,KAA0B,0BAA1B,CACA,MAAOC,CAAAA,KAAP,KAAkB,OAAlB,CACA,OACIC,mBADJ,CAEIC,mBAFJ,CAGIC,iBAHJ,KAIO,gBAJP,CAKA,MAAO,SAAUN,CAAAA,eAAV,4JACH,MAAMC,CAAAA,GAAG,CAACG,mBAAmB,EAApB,CAAT,CADG,OAEGG,OAFH,CAEa,QAAVA,CAAAA,OAAU,EAAM,CAClB,GAAMC,CAAAA,GAAG,WAAMC,OAAO,CAACC,GAAR,CAAYC,8BAAlB,eAAT,CACA,GAAMC,CAAAA,OAAO,CAAG,CACZA,OAAO,CAAC,CACJC,SAAS,CAACC,YAAY,CAACC,KADnB,CADI,CAAhB,CAKA,MAAOZ,CAAAA,KAAK,CAACa,IAAN,CAAWR,GAAX,CAAgB,EAAhB,CAAoBI,OAApB,EAA6BK,IAA7B,CACH,SAAAC,QAAQ,QAAIA,CAAAA,QAAQ,CAACC,IAAb,EADL,EAELC,KAFK,CAGH,SAAAC,KAAK,CAAI,CACL,KAAMA,CAAAA,KAAN,CACH,CALE,CAAP,CAOH,CAhBE,iCAmBc,MAAMnB,CAAAA,IAAI,CAACK,OAAD,CAAV,CAnBd,OAmBOY,IAnBP,mBAoBKA,IApBL,0BAqBKG,OAAO,CAACC,GAAR,CAAYJ,IAAZ,EArBL,iBAsBK,MAAMlB,CAAAA,GAAG,CAACI,mBAAmB,CAACc,IAAD,CAApB,CAAT,CAtBL,0GA0BC,MAAMlB,CAAAA,GAAG,CAACK,iBAAiB,CAAC,YAAMkB,OAAP,CAAlB,CAAT,CA1BD","sourcesContent":["import { put, call } from \"@redux-saga/core/effects\"\nimport axios from \"axios\"\nimport {\n    getOrderListRequest,\n    getOrderListSuccess,\n    getOrderListError\n} from './ordersAction'\nexport function* ordersGenerator() {\n    yield put(getOrderListRequest())\n    const apiCall = () => {\n        const url = `${process.env.REACT_APP_CAKE_WEBSITE_API_URL}/cakeorders`\n        const headers = {\n            headers:{\n                authtoken:localStorage.token\n            }\n        }\n        return axios.post(url, {}, headers).then(\n            response => response.data\n        ).catch(\n            error => {\n                throw error\n            }\n        )\n    }\n\n    try {\n        const data = yield call(apiCall)\n        if (data) {\n            console.log(data)\n            yield put(getOrderListSuccess(data))\n        }\n        \n    } catch (error) {\n        yield put(getOrderListError(error.message))\n    }\n}\n"]},"metadata":{},"sourceType":"module"}